# Chrono Lite åˆ†é˜¶æ®µå®æ–½æ–‡æ¡£

## æ–‡æ¡£æ¦‚è¿°

æœ¬ç›®å½•åŒ…å« Chrono Lite Gmail Add-on çš„å®Œæ•´åˆ†é˜¶æ®µå®æ–½è®¡åˆ’ï¼Œå°†é¡¹ç›®æ‹†åˆ†ä¸º 7 ä¸ªç‹¬ç«‹å¯éªŒè¯çš„é˜¶æ®µã€‚ç”±äº Apps Script è°ƒè¯•å›°éš¾ï¼Œæ¯ä¸ªé˜¶æ®µéƒ½åŒ…å«è¯¦ç»†çš„éªŒè¯æ­¥éª¤ã€æµ‹è¯•ä»£ç å’Œé¢„æœŸè¾“å‡ºã€‚

**æ€»å·¥ä½œé‡**ï¼š10-14 å¤©ï¼ˆæ»¡è´Ÿè·å¼€å‘ï¼‰

## ğŸ“š æ–‡æ¡£åˆ—è¡¨

| æ–‡æ¡£ | å†…å®¹ | é¢„è®¡æ—¶é—´ | éš¾åº¦ |
|-----|------|---------|------|
| [00-Overview.md](./00-Overview.md) | å®æ–½è®¡åˆ’æ€»è§ˆã€æ ¸å¿ƒåŸåˆ™ã€éªŒè¯æ–¹æ³• | - | - |
| [Phase-0-Setup.md](./Phase-0-Setup.md) | ç¯å¢ƒå‡†å¤‡ã€åŸºç¡€éªŒè¯ï¼ˆ6 ä¸ªæµ‹è¯•å‡½æ•°ï¼‰ | 0.5 å¤© | â­ |
| [Phase-1-DataLayer.md](./Phase-1-DataLayer.md) | CDN åŠ è½½ã€åˆ†ç‰‡ç¼“å­˜ã€æŸ¥è¯¢ä¼˜åŒ– | 2-3 å¤© | â­â­â­ |
| [Phase-2-Classifier.md](./Phase-2-Classifier.md) | ä¸‰çº§åŒ¹é…ç­–ç•¥ã€å‡†ç¡®ç‡éªŒè¯ | 2 å¤© | â­â­ |
| [Phase-3-Actions.md](./Phase-3-Actions.md) | Gmail æ“ä½œï¼ˆæ ‡ç­¾ã€å½’æ¡£ã€å·²è¯»ï¼‰ | 1 å¤© | â­ |
| [Phase-4-UI.md](./Phase-4-UI.md) | Card Service UIã€ä¾§è¾¹æ å¡ç‰‡ | 2-3 å¤© | â­â­ |
| [Phase-5-Triggers.md](./Phase-5-Triggers.md) | å®šæ—¶è§¦å‘å™¨ã€å¢é‡å¤„ç†ã€æ—¶é—´ä¿æŠ¤ | 1-2 å¤© | â­â­ |
| [Phase-6-Integration.md](./Phase-6-Integration.md) | ç«¯åˆ°ç«¯æµ‹è¯•ã€æ€§èƒ½ä¼˜åŒ–ã€å‘å¸ƒæ£€æŸ¥ | 2-3 å¤© | â­â­â­ |
| [Quick-Reference.md](./Quick-Reference.md) | å¿«é€Ÿå‚è€ƒã€å¸¸ç”¨å‘½ä»¤ã€é—®é¢˜é€ŸæŸ¥ | - | - |

## ğŸ¯ å®æ–½ç­–ç•¥

### æ ¸å¿ƒåŸåˆ™

1. **ç”±å†…è€Œå¤–ï¼ˆInside-Outï¼‰**ï¼šå…ˆéªŒè¯æ•°æ®å±‚ï¼Œå†é€æ­¥æ·»åŠ ä¸šåŠ¡é€»è¾‘ã€UI å’Œè‡ªåŠ¨åŒ–
2. **æ¸è¿›å¼éªŒè¯ï¼ˆIncrementalï¼‰**ï¼šæ¯ä¸ªé˜¶æ®µç‹¬ç«‹éªŒè¯é€šè¿‡åå†è¿›å…¥ä¸‹ä¸€é˜¶æ®µ
3. **å°æ•°æ®é›†æµ‹è¯•ï¼ˆSmall Data Firstï¼‰**ï¼šå…ˆç”¨ 10-20 æ¡æµ‹è¯•æ•°æ®éªŒè¯é€»è¾‘

### æ¨èè·¯å¾„

#### è·¯å¾„ 1ï¼šå®Œæ•´å®æ–½ï¼ˆé€‚åˆå……è¶³æ—¶é—´ï¼‰

```
Phase 0 (0.5å¤©) â†’ Phase 1 (2-3å¤©) â†’ Phase 2 (2å¤©) 
    â†’ Phase 3 (1å¤©) â†’ Phase 4 (2-3å¤©) â†’ Phase 5 (1-2å¤©) â†’ Phase 6 (2-3å¤©)

æ€»è®¡ï¼š10-14 å¤©
```

#### è·¯å¾„ 2ï¼šMVP å¿«é€ŸéªŒè¯ï¼ˆé€‚åˆæ—¶é—´ç´§å¼ ï¼‰

```
Phase 0 (0.5å¤©) â†’ Phase 1 (1å¤©ï¼Œä»…æµ‹è¯•æ•°æ®) â†’ Phase 2 (1å¤©) â†’ Phase 3 (1å¤©)
    â†’ æ‰‹åŠ¨è¿è¡ŒéªŒè¯ï¼ˆè·³è¿‡ Phase 4-5ï¼‰â†’ æœ‰æ•ˆåå†å®Œå–„

æ€»è®¡ï¼š3-4 å¤©
```

#### è·¯å¾„ 3ï¼šåˆ†ä¸¤è½®å®æ–½ï¼ˆæ¨èï¼‰

**ç¬¬ä¸€è½®ï¼ˆéªŒè¯æ ¸å¿ƒä»·å€¼ï¼‰**ï¼š
```
Phase 0-3ï¼ˆ4-5 å¤©ï¼‰â†’ éªŒè¯åˆ†ç±»å‡†ç¡®ç‡å’Œ Gmail æ“ä½œ
```

**ç¬¬äºŒè½®ï¼ˆå®Œå–„ç”¨æˆ·ä½“éªŒï¼‰**ï¼š
```
Phase 4-6ï¼ˆ5-8 å¤©ï¼‰â†’ æ·»åŠ  UIã€è‡ªåŠ¨åŒ–å’Œä¼˜åŒ–
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æœ€å°å¯è¡Œæµç¨‹ï¼ˆ1å¤©éªŒè¯ï¼‰

```bash
# 1. é˜…è¯»æ¦‚è§ˆ
docs/implementation/00-Overview.md

# 2. ç¯å¢ƒå‡†å¤‡ï¼ˆ30 åˆ†é’Ÿï¼‰
docs/implementation/Phase-0-Setup.md
â†’ åˆ›å»º Apps Script é¡¹ç›®
â†’ è¿è¡Œ runPhase0Tests()

# 3. æ•°æ®å±‚ï¼ˆ2-3 å°æ—¶ï¼‰
docs/implementation/Phase-1-DataLayer.md
â†’ åˆ›å»ºæµ‹è¯•æ•°æ®é›†ï¼ˆ20 æ¡ï¼‰
â†’ å®ç°åˆ†ç‰‡ç¼“å­˜
â†’ è¿è¡Œ runPhase1Tests()

# 4. åˆ†ç±»å¼•æ“ï¼ˆ1-2 å°æ—¶ï¼‰
docs/implementation/Phase-2-Classifier.md
â†’ å®ç°ä¸‰çº§åŒ¹é…
â†’ è¿è¡Œ runPhase2Tests()

# 5. åŠ¨ä½œæ‰§è¡Œï¼ˆ1 å°æ—¶ï¼‰
docs/implementation/Phase-3-Actions.md
â†’ å®ç° Gmail æ“ä½œ
â†’ è¿è¡Œ testCompleteWorkflow()

# 6. éªŒè¯æ•ˆæœï¼ˆ30 åˆ†é’Ÿï¼‰
â†’ åœ¨çœŸå® Gmail æµ‹è¯•
â†’ æ£€æŸ¥åˆ†ç±»å‡†ç¡®ç‡
â†’ ç¡®è®¤æ ‡ç­¾å’Œå½’æ¡£æ­£ç¡®
```

## ğŸ“Š é˜¶æ®µéªŒæ”¶æ ‡å‡†

æ¯ä¸ªé˜¶æ®µéƒ½æœ‰æ˜ç¡®çš„é€šè¿‡æ ‡å‡†ï¼š

### Phase 0 âœ…
- Apps Script é¡¹ç›®åˆ›å»ºæˆåŠŸ
- `runPhase0Tests()` å…¨éƒ¨é€šè¿‡ï¼ˆ5/5ï¼‰
- Gmail æƒé™æ­£å¸¸

### Phase 1 âœ…
- æ•°æ®åº“åŠ è½½æˆåŠŸï¼ˆ<1ç§’ï¼‰
- åˆ†ç‰‡ç¼“å­˜å·¥ä½œæ­£å¸¸
- å•ä¸ªæŸ¥è¯¢ <10ms
- æ‰¹é‡æŸ¥è¯¢æ€§èƒ½æå‡ >50%

### Phase 2 âœ…
- é‚®ç®±æå– 100% æ­£ç¡®
- åˆ†ç±»å‡†ç¡®ç‡ â‰¥85%
- æ‰¹é‡åˆ†ç±»ï¼ˆ100 å°ï¼‰<5 ç§’

### Phase 3 âœ…
- æ ‡ç­¾åˆ›å»º/åº”ç”¨æˆåŠŸ
- å½’æ¡£ã€å·²è¯»æ“ä½œæ­£ç¡®
- å®Œæ•´å·¥ä½œæµæˆåŠŸç‡ >80%

### Phase 4 âœ…
- Homepage Card æ­£å¸¸æ˜¾ç¤º
- Context Card æ˜¾ç¤ºåˆ†ç±»ç»“æœ
- æŒ‰é’®ç‚¹å‡»è§¦å‘æ­£ç¡®åŠ¨ä½œ

### Phase 5 âœ…
- è§¦å‘å™¨åˆ›å»ºæˆåŠŸ
- å¢é‡å¤„ç†ä»…å¤„ç†æ–°é‚®ä»¶
- æ—¶é—´ä¿æŠ¤æœºåˆ¶ç”Ÿæ•ˆ

### Phase 6 âœ…
- 4 ä¸ªæµ‹è¯•åœºæ™¯å…¨éƒ¨é€šè¿‡
- æ€§èƒ½æ»¡è¶³æ‰€æœ‰åŸºå‡†
- å‘å¸ƒæ£€æŸ¥æ¸…å•å®Œæˆ

## ğŸ§ª å…³é”®æµ‹è¯•å‡½æ•°

æ¯ä¸ªé˜¶æ®µéƒ½æä¾›å®Œæ•´çš„æµ‹è¯•å‡½æ•°ï¼Œå¯ç›´æ¥åœ¨ Apps Script ç¼–è¾‘å™¨ä¸­è¿è¡Œï¼š

```javascript
// Phase 0
runPhase0Tests()

// Phase 1
runPhase1Tests()
testLoadDatabase()
testSingleQuery()
testBatchQuery()

// Phase 2
runPhase2Tests()
testClassificationAccuracy()

// Phase 3
runPhase3Tests()
testCompleteWorkflow()

// Phase 4
testHomepageCard()
testContextCard()

// Phase 5
runPhase5Tests()
testAutoProcessLogic()

// Phase 6
runPhase6Tests()
runPreLaunchChecklist()
```

## ğŸ“– æ–‡æ¡£ä½¿ç”¨å»ºè®®

### æ–°æ‰‹å¼€å‘è€…

1. **å®Œæ•´é˜…è¯» Overview**ï¼ˆ30 åˆ†é’Ÿï¼‰
2. **æŒ‰é¡ºåºå®æ–½ Phase 0-3**ï¼ˆé‡ç‚¹ç†è§£åŸç†ï¼‰
3. **æš‚åœï¼Œé˜…è¯» Apps Script å®˜æ–¹æ–‡æ¡£**ï¼ˆ2 å°æ—¶ï¼‰
4. **ç»§ç»­ Phase 4-6**ï¼ˆé€æ­¥å®Œæˆï¼‰

### è¿›é˜¶å¼€å‘è€…

1. **å¿«é€Ÿæµè§ˆ Overview**ï¼ˆ10 åˆ†é’Ÿï¼‰
2. **é‡ç‚¹é˜…è¯» Phase 1**ï¼ˆåˆ†ç‰‡ç­–ç•¥ï¼‰
3. **å¿«é€Ÿå®æ–½ Phase 0-3**ï¼ˆ1 å¤©ï¼‰
4. **é‡ç‚¹æŠ•å…¥ Phase 4-6**ï¼ˆå®Œå–„ä½“éªŒï¼‰

### æŠ€æœ¯å†³ç­–è€…

1. **é˜…è¯» Overview + Quick Reference**ï¼ˆäº†è§£æ¶æ„ï¼‰
2. **æŸ¥çœ‹å„ Phase çš„éªŒæ”¶æ ‡å‡†**ï¼ˆè¯„ä¼°å¯è¡Œæ€§ï¼‰
3. **å…³æ³¨ Phase 1 çš„åˆ†ç‰‡ç­–ç•¥**ï¼ˆæ ¸å¿ƒæŠ€æœ¯éš¾ç‚¹ï¼‰
4. **æŸ¥çœ‹ Phase 6 çš„æ€§èƒ½åŸºå‡†**ï¼ˆéªŒè¯å¯é æ€§ï¼‰

## âš¡ æ ¸å¿ƒæŠ€æœ¯äº®ç‚¹

### 1. åˆ†ç‰‡ç¼“å­˜ç­–ç•¥ï¼ˆPhase 1ï¼‰

**é—®é¢˜**ï¼šCacheService é™åˆ¶ 1000 ä¸ªæ¡ç›®ï¼Œæ— æ³•å­˜å‚¨ 5000+ æ¡è®°å½•

**è§£å†³æ–¹æ¡ˆ**ï¼š
```javascript
// å“ˆå¸Œåˆ†ç‰‡
5000 æ¡ â†’ 50 ä¸ªåˆ†ç‰‡ï¼ˆæ¯ç‰‡ ~100 æ¡ï¼‰
æŸ¥è¯¢æ—¶ï¼šemail â†’ hash(email) â†’ shard_id â†’ è¯»å–å•ä¸ªåˆ†ç‰‡
æ€§èƒ½ï¼šO(1) æŸ¥è¯¢ï¼Œ<10ms
```

### 2. ä¸‰çº§åŒ¹é…ç­–ç•¥ï¼ˆPhase 2ï¼‰

```javascript
Level 1: ç²¾ç¡®åŒ¹é…ï¼ˆ85% å‘½ä¸­ï¼‰
    â†“ æœªå‘½ä¸­
Level 2: åŸŸååŒ¹é…ï¼ˆ10% å‘½ä¸­ï¼‰
    â†“ æœªå‘½ä¸­
Level 3: å¯å‘å¼è§„åˆ™ï¼ˆ5% å‘½ä¸­ï¼‰
```

### 3. æ—¶é—´ä¿æŠ¤æœºåˆ¶ï¼ˆPhase 5ï¼‰

**é—®é¢˜**ï¼šApps Script å•æ¬¡æ‰§è¡Œ 6 åˆ†é’Ÿä¸Šé™

**è§£å†³æ–¹æ¡ˆ**ï¼š
```javascript
const MAX_TIME = 5 * 60 * 1000; // 5 åˆ†é’Ÿ
var start = new Date();

while (hasMoreWork) {
  if (new Date() - start > MAX_TIME) {
    saveProgress(); // æ–­ç‚¹ç»­è·‘
    break;
  }
  doWork();
}
```

## ğŸ”§ å¼€å‘å·¥å…·

### å¿…å¤‡å·¥å…·

- **Apps Script Editor**ï¼šhttps://script.google.com
- **clasp CLI**ï¼š`npm install -g @google/clasp`ï¼ˆå¯é€‰ï¼‰
- **Gmail æµ‹è¯•è´¦å·**ï¼šç”¨äºçœŸå®ç¯å¢ƒæµ‹è¯•

### æ¨èå·¥å…·

- **VS Code** + Apps Script æ’ä»¶
- **Postman**ï¼šæµ‹è¯• Gmail API
- **Chrome DevTools**ï¼šæ£€æŸ¥ä¾§è¾¹æ  UI

## ğŸ“ å¸¸è§é—®é¢˜

### Q1: ä»å“ªé‡Œå¼€å§‹ï¼Ÿ

**ç­”**ï¼šå…ˆé˜…è¯» [00-Overview.md](./00-Overview.md)ï¼Œäº†è§£æ•´ä½“æ¶æ„å’Œå®æ–½åŸåˆ™ã€‚ç„¶åä» [Phase-0-Setup.md](./Phase-0-Setup.md) å¼€å§‹é€æ­¥å®æ–½ã€‚

### Q2: å¯ä»¥è·³è¿‡æŸäº›é˜¶æ®µå—ï¼Ÿ

**ç­”**ï¼š
- **ä¸å¯è·³è¿‡**ï¼šPhase 0-3ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰
- **å¯å»¶å**ï¼šPhase 4-5ï¼ˆUI å’Œè‡ªåŠ¨åŒ–ï¼Œå¯å…ˆæ‰‹åŠ¨éªŒè¯ï¼‰
- **å¿…é¡»å®Œæˆ**ï¼šPhase 6ï¼ˆé›†æˆæµ‹è¯•ï¼Œç¡®ä¿è´¨é‡ï¼‰

### Q3: é‡åˆ°é”™è¯¯æ€ä¹ˆåŠï¼Ÿ

**ç­”**ï¼š
1. æŸ¥çœ‹ [Quick-Reference.md](./Quick-Reference.md) çš„å¸¸è§é—®é¢˜éƒ¨åˆ†
2. æ£€æŸ¥ Logger è¾“å‡ºï¼ˆView â†’ Logsï¼‰
3. è¿è¡Œå¯¹åº”é˜¶æ®µçš„æµ‹è¯•å‡½æ•°éªŒè¯
4. æŸ¥é˜… Apps Script å®˜æ–¹æ–‡æ¡£

### Q4: æ€§èƒ½ä¸è¾¾æ ‡æ€ä¹ˆåŠï¼Ÿ

**ç­”**ï¼š
1. æ£€æŸ¥æ˜¯å¦ä½¿ç”¨æ‰¹é‡æ“ä½œï¼ˆè€Œéé€ä¸ªï¼‰
2. éªŒè¯ç¼“å­˜å‘½ä¸­ç‡ï¼ˆåº” >95%ï¼‰
3. å‡å°‘ä¸å¿…è¦çš„ API è°ƒç”¨
4. æŸ¥çœ‹å„ Phase çš„æ€§èƒ½ä¼˜åŒ–å»ºè®®

## ğŸ“ å­¦ä¹ èµ„æº

- [Apps Script å®˜æ–¹æ–‡æ¡£](https://developers.google.com/apps-script)
- [Gmail API å‚è€ƒ](https://developers.google.com/gmail/api)
- [Card Service æŒ‡å—](https://developers.google.com/apps-script/reference/card-service)
- [Apps Script é…é¢é™åˆ¶](https://developers.google.com/apps-script/guides/services/quotas)

## ğŸ‰ å®Œæˆåçš„ä¸‹ä¸€æ­¥

Phase 6 é€šè¿‡åï¼š

1. **å‡†å¤‡å‘å¸ƒææ–™**
   - å½•åˆ¶æ¼”ç¤ºè§†é¢‘ï¼ˆ5 åˆ†é’Ÿï¼‰
   - ç¼–å†™ README æ–‡æ¡£
   - å‡†å¤‡ GitHub ä»“åº“

2. **å†…æµ‹**
   - é‚€è¯· 5-10 åç”¨æˆ·
   - æ”¶é›†åé¦ˆ
   - å¿«é€Ÿè¿­ä»£

3. **å…¬å¼€å‘å¸ƒ**
   - Product Hunt
   - Hacker News
   - V2EX / å³åˆ»

---

**å¼€å§‹å®æ–½**ï¼š[Phase 0: ç¯å¢ƒå‡†å¤‡](./Phase-0-Setup.md) â†’

**éœ€è¦å¸®åŠ©ï¼Ÿ** æŸ¥çœ‹ [Quick Reference](./Quick-Reference.md) æˆ–åœ¨ GitHub æäº¤ Issue

